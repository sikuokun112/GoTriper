<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Colorlib">
    <meta name="description" content="#">
    <meta name="keywords" content="#">
    <!-- Page Title -->
    <title>My Bai Dang</title>
    <!-- Bootstrap CSS -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/mainpage/css/bootstrap.min.css}">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700,900" rel="stylesheet">
    <!-- Simple line Icon -->
    <link rel="stylesheet" th:href="@{/mainpage/css/simple-line-icons.css}">
    <!-- Themify Icon -->
    <link rel="stylesheet" th:href="@{/mainpage/css/themify-icons.css}">
    <!-- Hover Effects -->
    <link rel="stylesheet" th:href="@{/mainpage/css/set1.css}">
    <!-- Swipper Slider -->
    <link rel="stylesheet" th:href="@{/mainpage/css/swiper.min.css}">
    <!-- Main CSS -->
    <link rel="stylesheet" th:href="@{/mainpage/css/style.css}">

    <!-- BLOG DETAIL COMMENT -->
    <link rel="stylesheet" th:href="@{/mainpage/css/blog_detail_comment_form.css}">

    <!-- SELECTEDBOX -->
    <link rel="stylesheet" th:href="@{/mainpage/css/selectedbox.css}">

<!--    &lt;!&ndash; PREVIEW IMAGE CSS &ndash;&gt;-->
<!--    <link rel="stylesheet" th:href="@{/mainpage/css/previewimage.css}">-->

    <link rel="stylesheet" th:href="@{/mainpage/css/inputcustom.css}">

    <!--    HERO WRAP-->
    <link rel="stylesheet" th:href="@{/mainpage/css/herowrap.css}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>



</head>

<body>
<th:block th:include="/fragments/headerpage"></th:block>
<!--END HEADER-->

<!--BODY-->
<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-7 responsive-wrap">
                <div class="row detail-filter-wrap">
                    <div class="col-md-4 featured-responsive">
                        <div class="detail-filter-text">
                            <p>YOUR :  <span>Bai Dang</span></p>
                        </div>
                    </div>
                    <div class="col-md-8 featured-responsive">
                        <div class="detail-filter">
                            <p>Filter by</p>
                            <form class="filter-dropdown">
                                <select class="custom-select mb-2 mr-sm-2 mb-sm-0" id="inlineFormCustomSelect">
                                    <option selected>Best Match</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </form>
                            <form class="filter-dropdown">
                                <select class="custom-select mb-2 mr-sm-2 mb-sm-0" id="inlineFormCustomSelect1">
                                    <option selected>Restaurants</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </form>
                            <div class="map-responsive-wrap">
                                <a class="map-icon" href="#"><span class="icon-location-pin"></span></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row light-bg detail-options-wrap">
                    <th:block th:if="${account.getListBaiDang().size()!=0}">
                        <th:block th:each="baidang: ${account.getListBaiDang()}">
                            <div class="col-sm-6 col-lg-12 col-xl-6 featured-responsive">
                                <div class="featured-place-wrap">
                                    <a th:href="'/chitietbaidang/'+${baidang.getId()}">
                                        <img th:src="@{'getimage/'+${baidang.getListImage_BaiDang().get(0).getImageUrl()}}" class="img-fluid" style="width: 400px; height: 150px" alt="#">
                                        <span class="featured-rating-orange ">*</span>
                                        <div class="featured-title-box">
                                            <h6 th:text="${baidang.getTieuDe()}"></h6>
                                            <p th:text="${baidang.getDanhMuc().getTenDanhMuc()}"></p> <span>• </span>
                                            <p>3 Reviews</p> <span> • </span>
                                            <p><span>***</span>**</p>
                                            <ul>
                                                <li><span class="icon-location-pin"></span>
                                                    <p th:text="${baidang.getDiaDiem().getDiaChi()}"></p>
                                                </li>
                                                <li><span class="icon-screen-smartphone"></span>
                                                    <p th:text="${baidang.getDiaDiem().getSdt()}"></p>
                                                </li>
                                            </ul>
                                            <div class="bottom-icons">
                                                <div class="closed-now">READ NOW</div>
                                                <span class="ti-heart"></span>
                                                <span class="ti-bookmark"></span>
                                            </div>
                                        </div>
                                    </a>
                                    <div class="featured-btn-wrap">
                                        <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#deleteModal" th:data-whatever="${baidang.getId()}">XOÁ</a>
                                    </div>

                                </div>
                            </div>
                        </th:block>
                    </th:block>
                    <th:block th:if="${account.getListBaiDang().size()==0}">
                        <div> CHƯA CÓ BÀI ĐĂNG NÀO </div>
                    </th:block>
                </div>
            </div>
        </div>
    </div>
</section>


<!--END BODY-->


<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">ARE YOU SURE ?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="deletebutton">DELETE</button>
            </div>
        </div>
    </div>
</div>

<!--============================= FIND PLACES =============================-->

<!--//END ADD LISTING -->
<th:block th:include="/fragments/footermain"></th:block>

<!-- prievew image -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<!--<script th:src="@{/mainpage/js/previewimage.js}"></script>-->
<!-- jQuery, Bootstrap JS. -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!--<script th:src="@{/mainpage/js/jquery-3.2.1.min.js}"></script>-->
<script th:src="@{/mainpage/js/popper.min.js}"></script>
<script th:src="@{/mainpage/js/bootstrap.min.js}"></script>
<!-- Magnific popup JS -->
<script th:src="@{/mainpage/js/jquery.magnific-popup.js}"></script>
<!-- Swipper Slider JS -->
<script th:src="@{/mainpage/js/swiper.min.js}"></script>

<script>
    $(window).scroll(function() {
        // 100 = The point you would like to fade the nav in.
        if ($(window).scrollTop() > 100) {

            $('.fixed').addClass('is-sticky');

        } else {

            $('.fixed').removeClass('is-sticky');

        };
    });
</script>
<script>
    $('#deleteModal').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget) // Button that triggered the modal
        var recipient = button.data('whatever') // Extract info from data-* attributes
        // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
        // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
        var modal = $(this)
        modal.find('.modal-title').text('ARE YOU SURE ???')
        modal.find('.modal-body input').val(recipient)
        $(function() {
            $('#deletebutton').click(saveForm);
        });
        function saveForm(){
            $.ajax({
                method: "POST",
                url: "/deletebaiviet/"+recipient,
                success: function(status){
                    if(status) {
                        //here you check the response from your controller and add your business logic
                        $('#deleteModal').modal('hide');
                        location.reload(true);
                    }
                }
            });
        }
    })


</script>
</body>

</html>
